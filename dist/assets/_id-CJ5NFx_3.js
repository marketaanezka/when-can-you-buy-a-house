import{o as r,s as t,n as l,b as u,a as c,j as e,e as x}from"./index-BjeMCeXp.js";import{b as i,u as p,m,a as f,l as _,c as j,n as v,g as b,C as N,M as y,S as w,j as k,i as C,h as M,F as S,I as $,r as D,L,o as T}from"./Layout-DU4aJ6qJ.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],F=i("Clock",P);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],E=i("Flag",q);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],V=i("Globe",I);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],A=i("House",z);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],H=i("Link",G);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],B=i("Tv",R),K=r({id:l().default(0),name:t()}),O=r({id:l().default(0),logo_path:t().nullish(),name:t(),origin_country:t()}),Q=r({iso_3166_1:t(),name:t()}),U=r({english_name:t(),iso_639_1:t(),name:t()}),W=r({backdrop_path:t().nullish(),id:l().default(0),name:t(),poster_path:t().nullish()}),J=r({adult:u().default(!0),backdrop_path:t().nullish(),belongs_to_collection:W.nullish(),budget:l().default(0),genres:c(K),homepage:t().nullish(),id:l().default(0),imdb_id:t().nullish(),original_language:t(),original_title:t(),overview:t().nullish(),popularity:l().default(0),poster_path:t().nullish(),production_companies:c(O),production_countries:c(Q),release_date:t().nullish(),revenue:l().default(0),runtime:l().nullish(),spoken_languages:c(U),status:t().nullish(),tagline:t().nullish(),title:t(),video:u().default(!0),vote_average:l().default(0),vote_count:l().default(0)}),X=async s=>{const a=await(await f.get(`movie/${s}`)).json();return console.log(a),J.parse(a)},Y=s=>p({queryKey:[m.movieDetail,s],queryFn:()=>X(s)}),Z=v("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o({className:s,variant:n,asChild:a=!1,...d}){const h=a?_:"span";return e.jsx(h,{"data-slot":"badge",className:j(Z({variant:n}),s),...d})}const ee=({movie:s})=>{const n=b(s.vote_average);return e.jsxs(N,{className:"flex flex-col md:flex-row items-start gap-6 p-4 shadow-lg",children:[e.jsxs("div",{className:"flex flex-col gap-4 items-center self-center md:self-start w-full md:w-auto",children:[e.jsx(y,{posterPath:s.poster_path,alt:s.title,className:"w-64 rounded-lg shadow-md",isDetailView:!0}),e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-yellow-500"}),e.jsx("span",{className:`text-lg font-medium ${n}`,children:s.vote_average.toFixed(1)}),e.jsxs("span",{children:["(",s.vote_count," ",s.vote_count===1?"vote":"votes",")"]})]}),s.runtime&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{children:[s.runtime," minutes"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:C(s.release_date)})]})]})]}),e.jsxs(M,{className:"flex flex-col gap-4 w-full p-0 md:p-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-3xl font-bold",children:s.title}),s.original_title!==s.title&&e.jsx("h3",{className:"text-xl text-gray-600",children:s.original_title})]}),s.tagline&&e.jsxs("div",{className:"italic text-gray-600",children:['"',s.tagline,'"']}),e.jsx("p",{className:"text-gray-700",children:s.overview??"No description available."}),s.belongs_to_collection&&e.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-200",children:e.jsxs("h3",{className:"font-semibold",children:["Part of the ",s.belongs_to_collection.name]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-1",children:[e.jsx(S,{className:"w-4 h-4"})," Genres"]}),e.jsx("div",{className:"flex gap-2 flex-wrap mt-1",children:s.genres.length>0?s.genres.map(a=>e.jsx(o,{variant:"secondary",children:a.name},a.id)):e.jsx("span",{className:"text-gray-500",children:"No genres listed"})})]}),s.spoken_languages.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-1",children:[e.jsx(V,{className:"w-4 h-4"})," Languages"]}),e.jsx("div",{className:"flex gap-2 flex-wrap mt-1",children:s.spoken_languages.map(a=>e.jsx(o,{variant:"outline",children:a.english_name},a.iso_639_1))})]}),s.production_countries.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-1",children:[e.jsx(E,{className:"w-4 h-4"})," Production Countries"]}),e.jsx("div",{className:"flex gap-2 flex-wrap mt-1",children:s.production_countries.map(a=>e.jsxs(o,{variant:"outline",children:[a.name," (",a.iso_3166_1,")"]},a.iso_3166_1))})]}),s.production_companies.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4"})," Production Companies"]}),e.jsx("div",{className:"flex gap-4 flex-wrap mt-1",children:s.production_companies.map(a=>e.jsxs("div",{className:"flex items-center gap-2",children:[a.logo_path&&e.jsx("img",{src:`${$}w200${a.logo_path}`,alt:a.name,className:"w-12 h-12 object-contain"}),e.jsx("span",{children:a.name}),a.origin_country&&e.jsxs("small",{className:"text-gray-500",children:["(",a.origin_country,")"]})]},a.id))})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[s.homepage&&e.jsxs("a",{href:s.homepage,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(A,{className:"w-4 h-4"})," Official Website"]}),s.imdb_id&&e.jsxs("a",{href:`https://www.imdb.com/title/${s.imdb_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4"})," View on IMDb"]})]}),s.adult&&e.jsx(o,{variant:"destructive",className:"self-start mt-2",children:"Adult Content"}),s.status&&e.jsxs(o,{variant:"outline",className:"self-start",children:["Status: ",s.status]})]})]})};function se(){const{id:s}=x({from:"/movie/$id"}),n=s||D("Movie ID is required"),{data:a,isPending:d,isError:h,error:g}=Y(n);if(h)throw g;return e.jsx(L,{children:d?e.jsx(T,{className:"h-96"}):e.jsx(ee,{movie:a})})}const ne=se;export{ne as component};
